(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(n,e,t){n.exports=t(221)},221:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(28),i=t.n(o),c=t(27),u=t(92),s=t.n(u),l=t(20),d=t(13),p=t(106);t(93),t(94),t(95);var b,v,m=t(19),f=t(105),h=t(25),g=t(26),x=Object(g.createActions)({addDevRequest:["user","cordinates"],addDevSuccess:["dev"],addDevFailure:null,removeDev:["dev"]},{prefix:"devs/"}),w=x.Types,O=x.Creators,j={data:[],requesting:!1,error:!1},E=Object(g.createReducer)(j,(b={},Object(m.a)(b,w.ADD_DEV_REQUEST,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return Object(h.a)({},n,{requesting:!0})}),Object(m.a)(b,w.ADD_DEV_SUCCESS,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;return{data:[].concat(Object(f.a)(n.data),[e.dev]),requesting:!1,error:!1}}),Object(m.a)(b,w.ADD_DEV_FAILURE,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return Object(h.a)({},n,{requesting:!1,error:!0})}),Object(m.a)(b,w.REMOVE_DEV,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;return l.a.success("Dev removed!",{position:l.a.POSITION.TOP_RIGHT}),Object(h.a)({},n,{data:n.data.filter(function(n){return n.id!==e.dev.id})})}),b)),y=Object(g.createActions)({moveMapTo:["cordinates"]},{prefix:"map/"}),D=y.Types,C=y.Creators,k=Object(g.createReducer)({moveMapToCordinates:{longitude:0,latitude:0}},Object(m.a)({},D.MOVE_MAP_TO,function(n,e){return{moveMapToCordinates:{longitude:e.cordinates.longitude,latitude:e.cordinates.latitude,timestamp:Date.now()}}})),T=Object(g.createActions)({showNewDevForm:["cordinates"],hideNewDevForm:null},{prefix:"newDevForm/"}),_=T.Types,S=T.Creators,L={visible:!1,cordinates:{}},z=Object(g.createReducer)(L,(v={},Object(m.a)(v,_.SHOW_NEW_DEV_FORM,function(n,e){return{visible:!0,cordinates:e.cordinates}}),Object(m.a)(v,_.HIDE_NEW_DEV_FORM,function(){return L}),v)),U=Object(d.c)({devs:E,map:k,newDevForm:z}),F=t(34),I=t.n(F),q=t(23),R=t(98),V=t.n(R).a.create({baseURL:"https://api.github.com"}),M=I.a.mark(A);function A(n){var e,t,r;return I.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(q.call)(V.get,"/users/".concat(n.user));case 3:return e=a.sent,t=e.data,a.next=7,Object(q.select)(function(n){return n.devs.data.find(function(n){return n.id===t.id})});case 7:if(!a.sent){a.next=14;break}return a.next=11,Object(q.put)(O.addDevFailure());case 11:l.a.warn("Duplicated dev!",{position:l.a.POSITION.TOP_RIGHT}),a.next=20;break;case 14:return r={id:t.id,login:t.login,avatar_url:t.avatar_url,name:t.name,html_url:t.html_url,cordinates:n.cordinates},a.next=17,Object(q.put)(O.addDevSuccess(r));case 17:return a.next=19,Object(q.put)(S.hideNewDevForm());case 19:l.a.success("New dev added!",{position:l.a.POSITION.TOP_RIGHT});case 20:a.next=27;break;case 22:return a.prev=22,a.t0=a.catch(0),a.next=26,Object(q.put)(O.addDevFailure());case 26:l.a.error("Error adding new dev!",{position:l.a.POSITION.TOP_RIGHT});case 27:case"end":return a.stop()}},M,this,[[0,22]])}var N=I.a.mark(H);function H(){return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(q.all)([Object(q.takeLatest)(w.ADD_DEV_REQUEST,A)]);case 2:case"end":return n.stop()}},N,this)}var P=[],W=Object(p.a)({sagaMonitor:null});P.push(W);var G=Object(d.d)(d.a.apply(void 0,P)),J=Object(d.e)(U,G);W.run(H);var Q=J,B=t(102),X=t(30),Y=t(40),Z=t(41),K=t(11),$=t(12),nn={background:"#9B65E6",overlay:"#9B65E6CC",white:"#FFF",textColor:"#373737",borders:"rgba(0, 0, 0, 0.1)",error:"#F00",btnSuccess:"#9ACD32",btnSuccessHover:"#94C530",btnCancel:"#DCDCDC",btnCancelHover:"#D3D3D3"};t(208);function en(){var n=Object(K.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n  }\n  body {\n    background: ",";\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    font-family: sans-serif;\n  }\n"]);return en=function(){return n},n}var tn=Object($.a)(en(),nn.background);function rn(){var n=Object(K.a)(["\n  svg {\n    color: ",";\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(K.a)(["\n  svg {\n    color: ",";\n  }\n"]);return an=function(){return n},n}function on(){var n=Object(K.a)(["\n  background: transparent;\n  border: 0;\n  margin: 0 5px;\n\n  svg {\n    font-size: 18px;\n    cursor: pointer;\n  }\n"]);return on=function(){return n},n}function cn(){var n=Object(K.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return cn=function(){return n},n}function un(){var n=Object(K.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: ",";\n"]);return un=function(){return n},n}function sn(){var n=Object(K.a)(["\n  text-decoration: none;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding: 0 10px;\n"]);return sn=function(){return n},n}function ln(){var n=Object(K.a)(["\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n"]);return ln=function(){return n},n}function dn(){var n=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n\n  &:not(:last-of-type) {\n    border-bottom: 1px solid ",";\n  }\n"]);return dn=function(){return n},n}function pn(){var n=Object(K.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.2);\n\n  @media (max-width: 600px) {\n    font-size: 18px;\n  }\n"]);return pn=function(){return n},n}function bn(){var n=Object(K.a)(["\n  background: ",";\n  position: fixed;\n  z-index: 9997;\n  overflow: scroll;\n  width: 350px;\n  left: 20px;\n  top: 20px;\n  bottom: 20px;\n  padding: 20px;\n\n  @media (max-width: 600px) {\n    top: 10px\n    left: 10px;\n    right: 10px;\n    bottom: unset;\n    width: auto;\n    max-height: 32%;\n  }\n"]);return bn=function(){return n},n}var vn=$.b.div(bn(),nn.white),mn=$.b.span(pn()),fn=$.b.div(dn(),nn.borders),hn=$.b.img(ln()),gn=$.b.a(sn()),xn=$.b.span(un(),nn.textColor),wn=$.b.span(cn(),nn.textColor),On=$.b.button(on()),jn=Object($.b)(On)(an(),nn.error),En=Object($.b)(On)(rn(),nn.background),yn=Object(c.b)(function(n){return{devs:n.devs.data}},function(n){return Object(d.b)(Object(h.a)({},O,C),n)})(function(n){var e=n.devs,t=n.removeDev,r=n.moveMapTo;return a.a.createElement(vn,null,!e.length&&a.a.createElement(mn,null,"There are no registered developers yet! Click in the map to add new devs."),e.map(function(n){return a.a.createElement(fn,{key:n.id},a.a.createElement(hn,{src:n.avatar_url,alt:n.name}),a.a.createElement(gn,{href:n.html_url,target:"_blank"},a.a.createElement(xn,null,n.name),a.a.createElement(wn,null,n.login)),a.a.createElement(jn,{type:"button",onClick:function(){return t(n)}},a.a.createElement(Y.a,{icon:Z.c})),a.a.createElement(En,{type:"button",onClick:function(){return r(n.cordinates)}},a.a.createElement(Y.a,{icon:Z.b})))}))}),Dn=t(49),Cn=t(50),kn=t(52),Tn=t(51),_n=t(53);function Sn(){var n=Object(K.a)(["\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 100%;\n  min-width: 100%;\n  pointer-events: ",";\n  opacity: ",";\n  transition: opacity 0.8s;\n\n  form {\n    background: ",";\n    width: 300px;\n    padding: 20px;\n    border-radius: 4px;\n    text-align: center;\n\n    span {\n      color: ",";\n      font-weight: bold;\n      font-size: 18px;\n    }\n\n    input {\n      height: 35px;\n      width: 100%;\n      margin: 12px 0 8px 0;\n      padding: 0 20px;\n      font-size: 16px;\n      color: ",";\n      border-radius: 4px;\n      transition: border 0.5s;\n      border: ",";\n    }\n\n    button {\n      height: 35px;\n      width: calc(50% - 5px);\n      font-size: 15px;\n      border-radius: 4px;\n      outline: none;\n      border: 0;\n      color: ",";\n      font-weight: bold;\n      transition: background 0.2s;\n\n      &[type='button'] {\n        background: ",";\n        margin-right: 5px;\n        opacity: ",";\n        cursor: ",";\n\n        &:hover {\n          background: ",";\n        }\n      }\n\n      &[type='submit'] {\n        background: ",";\n        margin-left: 5px;\n        cursor: pointer;\n\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n"]);return Sn=function(){return n},n}var Ln=$.b.div(Sn(),nn.overlay,function(n){return n.visible?"all":"none"},function(n){return n.visible?1:0},nn.white,nn.textColor,nn.textColor,function(n){return n.error?"2px solid ".concat(nn.error):"1px solid ".concat(nn.borders)},nn.white,nn.btnCancel,function(n){return n.loading?.5:1},function(n){return n.loading?"not-allowed":"pointer"},nn.btnCancelHover,nn.btnSuccess,nn.btnSuccessHover),zn=function(n){function e(){var n,t;Object(Dn.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(kn.a)(this,(n=Object(Tn.a)(e)).call.apply(n,[this].concat(a)))).state={githubUser:""},t.cleanInput=function(){setTimeout(function(){t.setState({githubUser:""})},800)},t.onCancelClick=function(n){n.preventDefault();var e=t.props,r=e.requesting,a=e.hideNewDevForm;r||a()},t.onSubmit=function(n){n.preventDefault();var e=t.props,r=e.cordinates,a=e.requesting,o=e.addDevRequest,i=t.state.githubUser;a||o(i,r)},t}return Object(_n.a)(e,n),Object(Cn.a)(e,[{key:"componentDidUpdate",value:function(n){var e=this.props.visible;n.visible&&!e&&this.cleanInput()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this,e=this.props,t=e.visible,r=e.requesting,o=e.error,i=this.state.githubUser;return a.a.createElement(Ln,{visible:t,loading:r,error:o},a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("span",null,"Add New Dev"),a.a.createElement("input",{type:"text",placeholder:"GitHub user",value:i,onChange:function(e){return n.setState({githubUser:e.target.value})}}),a.a.createElement("button",{type:"button",onClick:this.onCancelClick,disabled:r},"Cancel"),a.a.createElement("button",{type:"submit"},r?a.a.createElement(Y.a,{icon:Z.a,spin:!0}):"Save")))}}]),e}(r.Component),Un=Object(c.b)(function(n){return{visible:n.newDevForm.visible,cordinates:n.newDevForm.cordinates,requesting:n.devs.requesting,error:n.devs.error}},function(n){return Object(d.b)(Object(h.a)({},O,S),n)})(zn),Fn=t(104),In=t(55);t(210);function qn(){var n=Object(K.a)(["\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n  border: 3px solid ",";\n\n  @media (max-width: 600px) {\n    width: 40px;\n    height: 40px;\n  }\n"]);return qn=function(){return n},n}function Rn(){var n=Object(K.a)(["\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  z-index: 9996;\n  top: 0;\n  left: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 100%;\n  min-width: 100%;\n  pointer-events: ",";\n  opacity: ",";\n  transition: opacity 1s;\n\n  .pulse {\n    display: inline-block;\n    position: relative;\n    width: 128px;\n    height: 128px;\n  }\n\n  .pulse span {\n    position: absolute;\n    border: 4px solid ",";\n    opacity: 1;\n    border-radius: 50%;\n    animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  }\n\n  .pulse span:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n\n  @keyframes lds-ripple {\n    0% {\n      top: 56px;\n      left: 56px;\n      width: 0;\n      height: 0;\n      opacity: 1;\n    }\n    100% {\n      top: -1px;\n      left: -1px;\n      width: 116px;\n      height: 116px;\n      opacity: 0;\n    }\n  }\n"]);return Rn=function(){return n},n}var Vn=$.b.div(Rn(),nn.background,function(n){var e=n.mapLoading,t=n.requestingUserLocation;return e||t?"all":"none"},function(n){var e=n.mapLoading,t=n.requestingUserLocation;return e?1:t?.8:0},nn.white),Mn=$.b.img(qn(),nn.background),An=function(n){function e(){var n,t;Object(Dn.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(kn.a)(this,(n=Object(Tn.a)(e)).call.apply(n,[this].concat(a)))).state={mapLoading:!0,requestingUserLocation:!0,viewport:{transitionInterpolator:new In.a,transitionDuration:0,width:window.innerWidth,height:window.innerHeight,longitude:0,latitude:0,zoom:1.5}},t.resize=function(){return t.onViewportChange({width:window.innerWidth,height:window.innerHeight})},t.requestUserLocation=function(){navigator.geolocation.getCurrentPosition(function(n){t.goToViewport({longitude:n.coords.longitude,latitude:n.coords.latitude}),t.setState({requestingUserLocation:!1})},function(){t.setState({requestingUserLocation:!1})},{enableHighAccuracy:!0,timeout:1e4})},t.goToViewport=function(n){var e=n.longitude,r=n.latitude;t.onViewportChange({transitionDuration:3e3,longitude:e,latitude:r,zoom:11})},t.onViewportChange=function(n){var e=t.state.viewport;t.setState({viewport:Object(h.a)({},e,n)})},t.onMapClick=function(n){var e=Object(Fn.a)(n.lngLat,2),r=e[0],a=e[1];(0,t.props.showNewDevForm)({longitude:r,latitude:a})},t}return Object(_n.a)(e,n),Object(Cn.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),this.requestUserLocation()}},{key:"shouldComponentUpdate",value:function(n){var e=this.props.moveMapToCordinates,t=n.moveMapToCordinates;return e.timestamp!==t.timestamp&&this.goToViewport(t),!0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this,e=this.props.devs,t=this.state,o=t.mapLoading,i=t.requestingUserLocation,c=t.viewport;return a.a.createElement(r.Fragment,null,a.a.createElement(Vn,{mapLoading:o,requestingUserLocation:i},a.a.createElement("div",{className:"pulse"},a.a.createElement("span",null),a.a.createElement("span",null))),a.a.createElement(In.c,Object.assign({},c,{onClick:this.onMapClick,onLoad:function(){return n.setState({mapLoading:!1})},onViewportChange:this.onViewportChange,mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:"pk.eyJ1Ijoiam9hYW9ldSIsImEiOiJjanRuamptdXQ0ODBsNDNudXZ2d2lkb3c2In0.jb2p0mU_Y94oyJQ-pQK1Vg",minZoom:1.5,dragRotate:!1,touchRotate:!1}),e.map(function(n){return a.a.createElement(In.b,{longitude:n.cordinates.longitude,latitude:n.cordinates.latitude,key:n.id,offsetLeft:-15,offsetTop:-20},a.a.createElement(Mn,{alt:n.name,src:n.avatar_url}))})))}}]),e}(r.Component),Nn=Object(c.b)(function(n){return{moveMapToCordinates:n.map.moveMapToCordinates,devs:n.devs.data}},function(n){return Object(d.b)(S,n)})(An),Hn=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(yn,null),a.a.createElement(Un,null),a.a.createElement(Nn,null))};function Pn(){var n=Object(K.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: ",";\n  height: 80vh;\n  line-height: 1.6;\n\n  h1 {\n    font-size: 40px;\n    opacity: 0.8;\n  }\n\n  h2 {\n    opacity: 0.7;\n  }\n\n  a {\n    color: ",";\n    opacity: 0.6;\n  }\n"]);return Pn=function(){return n},n}var Wn=$.b.div(Pn(),nn.white,nn.white),Gn=function(){return a.a.createElement(Wn,null,a.a.createElement("h1",null,"Dev Location"),a.a.createElement("h2",null,"This page doesn't exist!"),a.a.createElement("a",{href:"/dev-location/"},"Click here to go home."))},Jn=function(){return a.a.createElement(B.a,null,a.a.createElement(X.c,null,a.a.createElement(X.a,{exact:!0,path:"/dev-location/",component:Hn}),a.a.createElement(X.a,{path:"*",component:Gn})))};s.a.config(),l.a.configure({autoClose:3e3});var Qn=function(){return a.a.createElement(c.a,{store:Q},a.a.createElement(r.Fragment,null,a.a.createElement(tn,null),a.a.createElement(Jn,null)))};i.a.render(a.a.createElement(Qn,null),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.4f1dd842.chunk.js.map