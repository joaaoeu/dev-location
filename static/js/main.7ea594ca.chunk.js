(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(n,e,t){n.exports=t(221)},221:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),i=t(28),o=t.n(i),c=t(27),u=t(92),s=t.n(u),l=t(21),d=t(13),p=t(106);t(93),t(94),t(95);var b,v,m,f=t(18),h=t(104),g=t(17),x=t(26),w=Object(x.createActions)({addDevRequest:["user","cordinates"],addDevSuccess:["dev"],addDevFailure:null,removeDev:["dev"]},{prefix:"devs/"}),O=w.Types,j=w.Creators,E={data:[],requesting:!1,error:!1},y=Object(x.createReducer)(E,(b={},Object(f.a)(b,O.ADD_DEV_REQUEST,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return Object(g.a)({},n,{requesting:!0})}),Object(f.a)(b,O.ADD_DEV_SUCCESS,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;return{data:[].concat(Object(h.a)(n.data),[e.dev]),requesting:!1,error:!1}}),Object(f.a)(b,O.ADD_DEV_FAILURE,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return Object(g.a)({},n,{requesting:!1,error:!0})}),Object(f.a)(b,O.REMOVE_DEV,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;return l.a.success("Dev removed!",{position:l.a.POSITION.TOP_RIGHT}),Object(g.a)({},n,{data:n.data.filter(function(n){return n.id!==e.dev.id})})}),b)),D=t(42),k=Object(x.createActions)({moveMapTo:["cordinates"],mapViewportChange:["newViewport"]},{prefix:"map/"}),C=k.Types,_=k.Creators,S={viewport:{transitionInterpolator:new D.a,transitionDuration:0,width:window.innerWidth,height:window.innerHeight,longitude:0,latitude:0,zoom:1.5}},T=Object(x.createReducer)(S,(v={},Object(f.a)(v,C.MOVE_MAP_TO,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;return{viewport:Object(g.a)({},n.viewport,{longitude:e.cordinates.longitude,latitude:e.cordinates.latitude,transitionDuration:3e3,zoom:12})}}),Object(f.a)(v,C.MAP_VIEWPORT_CHANGE,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;return{viewport:Object(g.a)({},n.viewport,e.newViewport)}}),v)),L=Object(x.createActions)({showNewDevForm:["cordinates"],hideNewDevForm:null},{prefix:"newDevForm/"}),z=L.Types,I=L.Creators,U={visible:!1,cordinates:{}},F=Object(x.createReducer)(U,(m={},Object(f.a)(m,z.SHOW_NEW_DEV_FORM,function(n,e){return{visible:!0,cordinates:e.cordinates}}),Object(f.a)(m,z.HIDE_NEW_DEV_FORM,function(){return U}),m)),q=Object(d.c)({devs:y,map:T,newDevForm:F}),R=t(34),A=t.n(R),N=t(24),V=t(99),H=t.n(V).a.create({baseURL:"https://api.github.com"}),M=A.a.mark(P);function P(n){var e,t,r;return A.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(N.call)(H.get,"/users/".concat(n.user));case 3:return e=a.sent,t=e.data,a.next=7,Object(N.select)(function(n){return n.devs.data.find(function(n){return n.id===t.id})});case 7:if(!a.sent){a.next=14;break}return a.next=11,Object(N.put)(j.addDevFailure());case 11:l.a.warn("Duplicated dev!",{position:l.a.POSITION.TOP_RIGHT}),a.next=20;break;case 14:return r={id:t.id,login:t.login,avatar_url:t.avatar_url,name:t.name,html_url:t.html_url,cordinates:n.cordinates},a.next=17,Object(N.put)(j.addDevSuccess(r));case 17:return a.next=19,Object(N.put)(I.hideNewDevForm());case 19:l.a.success("New dev added!",{position:l.a.POSITION.TOP_RIGHT});case 20:a.next=27;break;case 22:return a.prev=22,a.t0=a.catch(0),a.next=26,Object(N.put)(j.addDevFailure());case 26:l.a.error("Error adding new dev!",{position:l.a.POSITION.TOP_RIGHT});case 27:case"end":return a.stop()}},M,this,[[0,22]])}var W=A.a.mark(G);function G(){return A.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.all)([Object(N.takeLatest)(O.ADD_DEV_REQUEST,P)]);case 2:case"end":return n.stop()}},W,this)}var J=[],Q=Object(p.a)({sagaMonitor:null});J.push(Q);var B=Object(d.d)(d.a.apply(void 0,J)),X=Object(d.e)(q,B);Q.run(G);var Y=X,Z=t(102),K=t(30),$=t(40),nn=t(41),en=t(11),tn=t(12),rn={background:"#9B65E6",overlay:"#9B65E6CC",white:"#FFF",textColor:"#373737",borders:"rgba(0, 0, 0, 0.1)",error:"#F00",btnSuccess:"#9ACD32",btnSuccessHover:"#94C530",btnCancel:"#DCDCDC",btnCancelHover:"#D3D3D3"};t(209);function an(){var n=Object(en.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n  }\n  body {\n    background: ",";\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    font-family: sans-serif;\n  }\n"]);return an=function(){return n},n}var on=Object(tn.a)(an(),rn.background);function cn(){var n=Object(en.a)(["\n  svg {\n    color: ",";\n  }\n"]);return cn=function(){return n},n}function un(){var n=Object(en.a)(["\n  svg {\n    color: ",";\n  }\n"]);return un=function(){return n},n}function sn(){var n=Object(en.a)(["\n  background: transparent;\n  border: 0;\n  margin: 0 5px;\n\n  svg {\n    font-size: 18px;\n    cursor: pointer;\n  }\n"]);return sn=function(){return n},n}function ln(){var n=Object(en.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return ln=function(){return n},n}function dn(){var n=Object(en.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: ",";\n"]);return dn=function(){return n},n}function pn(){var n=Object(en.a)(["\n  text-decoration: none;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding: 0 10px;\n"]);return pn=function(){return n},n}function bn(){var n=Object(en.a)(["\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n"]);return bn=function(){return n},n}function vn(){var n=Object(en.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n\n  &:not(:last-of-type) {\n    border-bottom: 1px solid ",";\n  }\n"]);return vn=function(){return n},n}function mn(){var n=Object(en.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.2);\n\n  @media (max-width: 600px) {\n    font-size: 18px;\n  }\n"]);return mn=function(){return n},n}function fn(){var n=Object(en.a)(["\n  background: ",";\n  position: fixed;\n  z-index: 9997;\n  overflow: scroll;\n  width: 350px;\n  left: 20px;\n  top: 20px;\n  bottom: 20px;\n  padding: 20px;\n\n  @media (max-width: 600px) {\n    top: 10px\n    left: 10px;\n    right: 10px;\n    bottom: unset;\n    width: auto;\n    max-height: 32%;\n  }\n"]);return fn=function(){return n},n}var hn=tn.b.div(fn(),rn.white),gn=tn.b.span(mn()),xn=tn.b.div(vn(),rn.borders),wn=tn.b.img(bn()),On=tn.b.a(pn()),jn=tn.b.span(dn(),rn.textColor),En=tn.b.span(ln(),rn.textColor),yn=tn.b.button(sn()),Dn=Object(tn.b)(yn)(un(),rn.error),kn=Object(tn.b)(yn)(cn(),rn.background),Cn=Object(c.b)(function(n){return{devs:n.devs.data}},function(n){return Object(d.b)(Object(g.a)({},j,_),n)})(function(n){var e=n.devs,t=n.removeDev,r=n.moveMapTo;return a.a.createElement(hn,null,!e.length&&a.a.createElement(gn,null,"There are no registered developers yet! Click in the map to add new devs."),e.map(function(n){return a.a.createElement(xn,{key:n.id},a.a.createElement(wn,{src:n.avatar_url,alt:n.name}),a.a.createElement(On,{href:n.html_url,target:"_blank"},a.a.createElement(jn,null,n.name),a.a.createElement(En,null,n.login)),a.a.createElement(Dn,{type:"button",onClick:function(){return t(n)}},a.a.createElement($.a,{icon:nn.c})),a.a.createElement(kn,{type:"button",onClick:function(){return r(n.cordinates)}},a.a.createElement($.a,{icon:nn.b})))}))}),_n=t(50),Sn=t(51),Tn=t(53),Ln=t(52),zn=t(54);function In(){var n=Object(en.a)(["\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 100%;\n  min-width: 100%;\n  pointer-events: ",";\n  opacity: ",";\n  transition: opacity 0.8s;\n\n  form {\n    background: ",";\n    width: 300px;\n    padding: 20px;\n    border-radius: 4px;\n    text-align: center;\n\n    span {\n      color: ",";\n      font-weight: bold;\n      font-size: 18px;\n    }\n\n    input {\n      height: 35px;\n      width: 100%;\n      margin: 12px 0 8px 0;\n      padding: 0 20px;\n      font-size: 16px;\n      color: ",";\n      border-radius: 4px;\n      transition: border 0.5s;\n      border: ",";\n    }\n\n    button {\n      height: 35px;\n      width: calc(50% - 5px);\n      font-size: 15px;\n      border-radius: 4px;\n      outline: none;\n      border: 0;\n      color: ",";\n      font-weight: bold;\n      transition: background 0.2s;\n\n      &[type='button'] {\n        background: ",";\n        margin-right: 5px;\n        opacity: ",";\n        cursor: ",";\n\n        &:hover {\n          background: ",";\n        }\n      }\n\n      &[type='submit'] {\n        background: ",";\n        margin-left: 5px;\n        cursor: pointer;\n\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n"]);return In=function(){return n},n}var Un=tn.b.div(In(),rn.overlay,function(n){return n.visible?"all":"none"},function(n){return n.visible?1:0},rn.white,rn.textColor,rn.textColor,function(n){return n.error?"2px solid ".concat(rn.error):"1px solid ".concat(rn.borders)},rn.white,rn.btnCancel,function(n){return n.loading?.5:1},function(n){return n.loading?"not-allowed":"pointer"},rn.btnCancelHover,rn.btnSuccess,rn.btnSuccessHover),Fn=function(n){function e(){var n,t;Object(_n.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(Tn.a)(this,(n=Object(Ln.a)(e)).call.apply(n,[this].concat(a)))).state={githubUser:""},t.cleanInput=function(){setTimeout(function(){t.setState({githubUser:""})},800)},t.onCancelClick=function(n){n.preventDefault();var e=t.props,r=e.requesting,a=e.hideNewDevForm;r||a()},t.onSubmit=function(n){n.preventDefault();var e=t.props,r=e.cordinates,a=e.requesting,i=e.addDevRequest,o=t.state.githubUser;a||i(o,r)},t}return Object(zn.a)(e,n),Object(Sn.a)(e,[{key:"componentDidUpdate",value:function(n){var e=this.props.visible;n.visible&&!e&&this.cleanInput()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this,e=this.props,t=e.visible,r=e.requesting,i=e.error,o=this.state.githubUser;return a.a.createElement(Un,{visible:t,loading:r,error:i},a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("span",null,"Add New Dev"),a.a.createElement("input",{type:"text",placeholder:"GitHub user",value:o,onChange:function(e){return n.setState({githubUser:e.target.value})}}),a.a.createElement("button",{type:"button",onClick:this.onCancelClick,disabled:r},"Cancel"),a.a.createElement("button",{type:"submit"},r?a.a.createElement($.a,{icon:nn.a,spin:!0}):"Save")))}}]),e}(r.Component),qn=Object(c.b)(function(n){return{visible:n.newDevForm.visible,cordinates:n.newDevForm.cordinates,requesting:n.devs.requesting,error:n.devs.error}},function(n){return Object(d.b)(Object(g.a)({},j,I),n)})(Fn),Rn=t(105);t(210);function An(){var n=Object(en.a)(["\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n  border: 3px solid ",";\n\n  @media (max-width: 600px) {\n    width: 40px;\n    height: 40px;\n  }\n"]);return An=function(){return n},n}function Nn(){var n=Object(en.a)(["\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  z-index: 9996;\n  top: 0;\n  left: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 100%;\n  min-width: 100%;\n  pointer-events: ",";\n  opacity: ",";\n  transition: opacity 1s;\n\n  .pulse {\n    display: inline-block;\n    position: relative;\n    width: 128px;\n    height: 128px;\n  }\n\n  .pulse span {\n    position: absolute;\n    border: 4px solid ",";\n    opacity: 1;\n    border-radius: 50%;\n    animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  }\n\n  .pulse span:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n\n  @keyframes lds-ripple {\n    0% {\n      top: 56px;\n      left: 56px;\n      width: 0;\n      height: 0;\n      opacity: 1;\n    }\n    100% {\n      top: -1px;\n      left: -1px;\n      width: 116px;\n      height: 116px;\n      opacity: 0;\n    }\n  }\n"]);return Nn=function(){return n},n}var Vn=tn.b.div(Nn(),rn.background,function(n){var e=n.mapLoading,t=n.requestingUserLocation;return e||t?"all":"none"},function(n){var e=n.mapLoading,t=n.requestingUserLocation;return e?1:t?.8:0},rn.white),Hn=tn.b.img(An(),rn.background),Mn=function(n){function e(){var n,t;Object(_n.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(Tn.a)(this,(n=Object(Ln.a)(e)).call.apply(n,[this].concat(a)))).state={mapLoading:!0,requestingUserLocation:!0},t.resize=function(){(0,t.props.mapViewportChange)({width:window.innerWidth,height:window.innerHeight})},t.requestUserLocation=function(){var n=t.props.moveMapTo;navigator.geolocation.getCurrentPosition(function(e){n({longitude:e.coords.longitude,latitude:e.coords.latitude}),t.setState({requestingUserLocation:!1})},function(){t.setState({requestingUserLocation:!1})},{enableHighAccuracy:!0,timeout:1e4})},t.onMapClick=function(n){var e=Object(Rn.a)(n.lngLat,2),r=e[0],a=e[1];(0,t.props.showNewDevForm)({longitude:r,latitude:a})},t}return Object(zn.a)(e,n),Object(Sn.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),this.requestUserLocation()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this,e=this.props,t=e.viewport,i=e.devs,o=e.mapViewportChange,c=this.state,u=c.mapLoading,s=c.requestingUserLocation;return a.a.createElement(r.Fragment,null,a.a.createElement(Vn,{mapLoading:u,requestingUserLocation:s},a.a.createElement("div",{className:"pulse"},a.a.createElement("span",null),a.a.createElement("span",null))),a.a.createElement(D.c,Object.assign({},t,{onClick:this.onMapClick,onLoad:function(){return n.setState({mapLoading:!1})},onViewportChange:o,mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:"pk.eyJ1Ijoiam9hYW9ldSIsImEiOiJjanRuamptdXQ0ODBsNDNudXZ2d2lkb3c2In0.jb2p0mU_Y94oyJQ-pQK1Vg",minZoom:1.5,dragRotate:!1,touchRotate:!1}),i.map(function(n){return a.a.createElement(D.b,{longitude:n.cordinates.longitude,latitude:n.cordinates.latitude,key:n.id,offsetLeft:-15,offsetTop:-20},a.a.createElement(Hn,{alt:n.name,src:n.avatar_url}))})))}}]),e}(r.Component),Pn=Object(c.b)(function(n){return{viewport:n.map.viewport,devs:n.devs.data}},function(n){return Object(d.b)(Object(g.a)({},_,I),n)})(Mn),Wn=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(Cn,null),a.a.createElement(qn,null),a.a.createElement(Pn,null))};function Gn(){var n=Object(en.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: ",";\n  height: 80vh;\n  line-height: 1.6;\n\n  h1 {\n    font-size: 40px;\n    opacity: 0.8;\n  }\n\n  h2 {\n    opacity: 0.7;\n  }\n\n  a {\n    color: ",";\n    opacity: 0.6;\n  }\n"]);return Gn=function(){return n},n}var Jn=tn.b.div(Gn(),rn.white,rn.white),Qn=function(){return a.a.createElement(Jn,null,a.a.createElement("h1",null,"Dev Location"),a.a.createElement("h2",null,"This page doesn't exist!"),a.a.createElement("a",{href:"/dev-location/"},"Click here to go home."))},Bn=function(){return a.a.createElement(Z.a,null,a.a.createElement(K.c,null,a.a.createElement(K.a,{exact:!0,path:"/dev-location/",component:Wn}),a.a.createElement(K.a,{path:"*",component:Qn})))};s.a.config(),l.a.configure({autoClose:3e3});var Xn=function(){return a.a.createElement(c.a,{store:Y},a.a.createElement(r.Fragment,null,a.a.createElement(on,null),a.a.createElement(Bn,null)))};o.a.render(a.a.createElement(Xn,null),document.getElementById("root"))}},[[108,1,2]]]);
//# sourceMappingURL=main.7ea594ca.chunk.js.map