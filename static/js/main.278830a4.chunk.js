(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),i=t(24),o=t.n(i),c=t(23),u=t(68),s=t.n(u),l=t(18),d=t(12),p=t(82);t(69),t(70),t(71);var b=t(80),v=t(15),m={ADD_REQUEST:"devs/ADD_REQUEST",ADD_SUCCESS:"devs/ADD_SUCCESS",ADD_FAILURE:"devs/ADD_FAILURE",REMOVE:"devs/REMOVE"},f={data:[],requesting:!1,error:!1};var h={addDevRequest:function(n,e){return{type:m.ADD_REQUEST,payload:{user:n,cordinates:e}}},addDevSuccess:function(n){return{type:m.ADD_SUCCESS,payload:{dev:n}}},addDevFailure:function(){return{type:m.ADD_FAILURE}},removeDev:function(n){return{type:m.REMOVE,payload:{dev:n}}}},g=t(36),x={MOVE_TO:"map/MOVE_TO",VIEWPORT_CHANGE:"map/VIEWPORT_CHANGE"},w={viewport:{transitionInterpolator:new g.a,transitionDuration:0,width:window.innerWidth,height:window.innerHeight,longitude:0,latitude:0,zoom:1.5}};var E={moveMapTo:function(n){return{type:x.MOVE_TO,payload:{cordinates:n}}},mapViewportChange:function(n){return{type:x.VIEWPORT_CHANGE,payload:{newViewport:n}}}},O={SHOW:"newDevForm/SHOW",HIDE:"newDevForm/HIDE"},y={visible:!1,cordinates:{}};var D={showNewDevForm:function(n){return{type:O.SHOW,payload:{cordinates:n}}},hideNewDevForm:function(){return{type:O.HIDE}}},j=Object(d.c)({devs:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case m.ADD_REQUEST:return Object(v.a)({},n,{requesting:!0});case m.ADD_SUCCESS:return{data:[].concat(Object(b.a)(n.data),[e.payload.dev]),requesting:!1,error:!1};case m.ADD_FAILURE:return Object(v.a)({},n,{requesting:!1,error:!0});case m.REMOVE:return l.a.success("Dev removed!",{position:l.a.POSITION.TOP_RIGHT}),Object(v.a)({},n,{data:n.data.filter(function(n){return n.id!==e.payload.dev.id})});default:return n}},map:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case x.MOVE_TO:return{viewport:Object(v.a)({},n.viewport,{longitude:e.payload.cordinates.longitude,latitude:e.payload.cordinates.latitude,transitionDuration:3e3,zoom:12})};case x.VIEWPORT_CHANGE:return{viewport:Object(v.a)({},n.viewport,e.payload.newViewport)};default:return n}},newDevForm:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case O.SHOW:return{visible:!0,cordinates:e.payload.cordinates};case O.HIDE:return{visible:!1,cordinates:{}};default:return n}}}),C=t(29),k=t.n(C),S=t(21),_=t(75),T=t.n(_).a.create({baseURL:"https://api.github.com"}),I=k.a.mark(U);function U(n){var e,t,r;return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(S.call)(T.get,"/users/".concat(n.payload.user));case 3:return e=a.sent,t=e.data,a.next=7,Object(S.select)(function(n){return n.devs.data.find(function(n){return n.id===t.id})});case 7:if(!a.sent){a.next=14;break}return a.next=11,Object(S.put)(h.addDevFailure());case 11:l.a.warn("Duplicated dev!",{position:l.a.POSITION.TOP_RIGHT}),a.next=20;break;case 14:return r={id:t.id,login:t.login,avatar_url:t.avatar_url,name:t.name,html_url:t.html_url,cordinates:n.payload.cordinates},a.next=17,Object(S.put)(h.addDevSuccess(r));case 17:return a.next=19,Object(S.put)(D.hideNewDevForm());case 19:l.a.success("New dev added!",{position:l.a.POSITION.TOP_RIGHT});case 20:a.next=27;break;case 22:return a.prev=22,a.t0=a.catch(0),a.next=26,Object(S.put)(h.addDevFailure());case 26:l.a.error("Error adding new dev!",{position:l.a.POSITION.TOP_RIGHT});case 27:case"end":return a.stop()}},I,this,[[0,22]])}var L=k.a.mark(A);function A(){return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(S.all)([Object(S.takeLatest)(m.ADD_REQUEST,U)]);case 2:case"end":return n.stop()}},L,this)}var R=[],z=Object(p.a)({sagaMonitor:null});R.push(z);var F=Object(d.d)(d.a.apply(void 0,R)),H=Object(d.e)(j,F);z.run(A);var q=H,V=t(78),N=t(26),M=t(34),P=t(35),W=t(10),G=t(11),Q={background:"#9B65E6",overlay:"#9B65E6CC",white:"#FFF",textColor:"#373737",borders:"rgba(0, 0, 0, 0.1)",error:"#F00",btnSuccess:"#9ACD32",btnSuccessHover:"#94C530",btnCancel:"#DCDCDC",btnCancelHover:"#D3D3D3"};t(134);function J(){var n=Object(W.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    outline: 0;\n  }\n  body {\n    background: ",";\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    font-family: sans-serif;\n  }\n"]);return J=function(){return n},n}var B=Object(G.a)(J(),Q.background);function X(){var n=Object(W.a)(["\n  svg {\n    color: ",";\n  }\n"]);return X=function(){return n},n}function Y(){var n=Object(W.a)(["\n  svg {\n    color: ",";\n  }\n"]);return Y=function(){return n},n}function Z(){var n=Object(W.a)(["\n  background: transparent;\n  border: 0;\n  margin: 0 5px;\n\n  svg {\n    font-size: 18px;\n    cursor: pointer;\n  }\n"]);return Z=function(){return n},n}function K(){var n=Object(W.a)(["\n  font-size: 14px;\n  color: ",";\n"]);return K=function(){return n},n}function $(){var n=Object(W.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: ",";\n"]);return $=function(){return n},n}function nn(){var n=Object(W.a)(["\n  text-decoration: none;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding: 0 10px;\n"]);return nn=function(){return n},n}function en(){var n=Object(W.a)(["\n  border-radius: 50%;\n  width: 50px;\n  height: 50px;\n"]);return en=function(){return n},n}function tn(){var n=Object(W.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n\n  &:not(:last-of-type) {\n    border-bottom: 1px solid ",";\n  }\n"]);return tn=function(){return n},n}function rn(){var n=Object(W.a)(["\n  font-size: 16px;\n  font-weight: bold;\n  color: rgba(0, 0, 0, 0.2);\n\n  @media (max-width: 600px) {\n    font-size: 18px;\n  }\n"]);return rn=function(){return n},n}function an(){var n=Object(W.a)(["\n  background: ",";\n  position: fixed;\n  z-index: 9997;\n  overflow: scroll;\n  width: 350px;\n  left: 20px;\n  top: 20px;\n  bottom: 20px;\n  padding: 20px;\n\n  @media (max-width: 600px) {\n    top: 10px\n    left: 10px;\n    right: 10px;\n    bottom: unset;\n    width: auto;\n    max-height: 32%;\n  }\n"]);return an=function(){return n},n}var on=G.b.div(an(),Q.white),cn=G.b.span(rn()),un=G.b.div(tn(),Q.borders),sn=G.b.img(en()),ln=G.b.a(nn()),dn=G.b.span($(),Q.textColor),pn=G.b.span(K(),Q.textColor),bn=G.b.button(Z()),vn=Object(G.b)(bn)(Y(),Q.error),mn=Object(G.b)(bn)(X(),Q.background),fn=Object(c.b)(function(n){return{devs:n.devs.data}},function(n){return Object(d.b)(Object(v.a)({},h,E),n)})(function(n){var e=n.devs,t=n.removeDev,r=n.moveMapTo;return a.a.createElement(on,null,!e.length&&a.a.createElement(cn,null,"There are no registered developers yet! Click in the map to add new devs."),e.map(function(n){return a.a.createElement(un,{key:n.id},a.a.createElement(sn,{src:n.avatar_url,alt:n.name}),a.a.createElement(ln,{href:n.html_url,target:"_blank"},a.a.createElement(dn,null,n.name),a.a.createElement(pn,null,n.login)),a.a.createElement(vn,{type:"button",onClick:function(){return t(n)}},a.a.createElement(M.a,{icon:P.c})),a.a.createElement(mn,{type:"button",onClick:function(){return r(n.cordinates)}},a.a.createElement(M.a,{icon:P.b})))}))}),hn=t(39),gn=t(40),xn=t(42),wn=t(41),En=t(43);function On(){var n=Object(W.a)(["\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 100%;\n  min-width: 100%;\n  pointer-events: ",";\n  opacity: ",";\n  transition: opacity 0.8s;\n\n  form {\n    background: ",";\n    width: 300px;\n    padding: 20px;\n    border-radius: 4px;\n    text-align: center;\n\n    span {\n      color: ",";\n      font-weight: bold;\n      font-size: 18px;\n    }\n\n    input {\n      height: 35px;\n      width: 100%;\n      margin: 12px 0 8px 0;\n      padding: 0 20px;\n      font-size: 16px;\n      color: ",";\n      border-radius: 4px;\n      transition: border 0.5s;\n      border: ",";\n    }\n\n    button {\n      height: 35px;\n      width: calc(50% - 5px);\n      font-size: 15px;\n      border-radius: 4px;\n      outline: none;\n      border: 0;\n      color: ",";\n      font-weight: bold;\n      transition: background 0.2s;\n\n      &[type='button'] {\n        background: ",";\n        margin-right: 5px;\n        opacity: ",";\n        cursor: ",";\n\n        &:hover {\n          background: ",";\n        }\n      }\n\n      &[type='submit'] {\n        background: ",";\n        margin-left: 5px;\n        cursor: pointer;\n\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n  }\n"]);return On=function(){return n},n}var yn=G.b.div(On(),Q.overlay,function(n){return n.visible?"all":"none"},function(n){return n.visible?1:0},Q.white,Q.textColor,Q.textColor,function(n){return n.error?"2px solid ".concat(Q.error):"1px solid ".concat(Q.borders)},Q.white,Q.btnCancel,function(n){return n.loading?.5:1},function(n){return n.loading?"not-allowed":"pointer"},Q.btnCancelHover,Q.btnSuccess,Q.btnSuccessHover),Dn=function(n){function e(){var n,t;Object(hn.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(xn.a)(this,(n=Object(wn.a)(e)).call.apply(n,[this].concat(a)))).state={githubUser:""},t.cleanInput=function(){setTimeout(function(){t.setState({githubUser:""})},800)},t.onCancelClick=function(n){n.preventDefault();var e=t.props,r=e.requesting,a=e.hideNewDevForm;r||a()},t.onSubmit=function(n){n.preventDefault();var e=t.props,r=e.cordinates,a=e.requesting,i=e.addDevRequest,o=t.state.githubUser;a||i(o,r)},t}return Object(En.a)(e,n),Object(gn.a)(e,[{key:"componentDidUpdate",value:function(n){var e=this.props.visible;n.visible&&!e&&this.cleanInput()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this,e=this.props,t=e.visible,r=e.requesting,i=e.error,o=this.state.githubUser;return a.a.createElement(yn,{visible:t,loading:r,error:i},a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("span",null,"Add New Dev"),a.a.createElement("input",{type:"text",placeholder:"GitHub user",value:o,onChange:function(e){return n.setState({githubUser:e.target.value})}}),a.a.createElement("button",{type:"button",onClick:this.onCancelClick,disabled:r},"Cancel"),a.a.createElement("button",{type:"submit"},r?a.a.createElement(M.a,{icon:P.a,spin:!0}):"Save")))}}]),e}(r.Component),jn=Object(c.b)(function(n){return{visible:n.newDevForm.visible,cordinates:n.newDevForm.cordinates,requesting:n.devs.requesting,error:n.devs.error}},function(n){return Object(d.b)(Object(v.a)({},h,D),n)})(Dn),Cn=t(81);t(135);function kn(){var n=Object(W.a)(["\n  border-radius: 50%;\n  width: 35px;\n  height: 35px;\n  border: 3px solid ",";\n\n  @media (max-width: 600px) {\n    width: 40px;\n    height: 40px;\n  }\n"]);return kn=function(){return n},n}function Sn(){var n=Object(W.a)(["\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  z-index: 9996;\n  top: 0;\n  left: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 100%;\n  min-width: 100%;\n  pointer-events: ",";\n  opacity: ",";\n  transition: opacity 1s;\n\n  .pulse {\n    display: inline-block;\n    position: relative;\n    width: 128px;\n    height: 128px;\n  }\n\n  .pulse span {\n    position: absolute;\n    border: 4px solid ",";\n    opacity: 1;\n    border-radius: 50%;\n    animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  }\n\n  .pulse span:nth-child(2) {\n    animation-delay: -0.5s;\n  }\n\n  @keyframes lds-ripple {\n    0% {\n      top: 56px;\n      left: 56px;\n      width: 0;\n      height: 0;\n      opacity: 1;\n    }\n    100% {\n      top: -1px;\n      left: -1px;\n      width: 116px;\n      height: 116px;\n      opacity: 0;\n    }\n  }\n"]);return Sn=function(){return n},n}var _n=G.b.div(Sn(),Q.background,function(n){var e=n.mapLoading,t=n.requestingUserLocation;return e||t?"all":"none"},function(n){var e=n.mapLoading,t=n.requestingUserLocation;return e?1:t?.8:0},Q.white),Tn=G.b.img(kn(),Q.background),In=function(n){function e(){var n,t;Object(hn.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=Object(xn.a)(this,(n=Object(wn.a)(e)).call.apply(n,[this].concat(a)))).state={mapLoading:!0,requestingUserLocation:!0},t.resize=function(){(0,t.props.mapViewportChange)({width:window.innerWidth,height:window.innerHeight})},t.requestUserLocation=function(){var n=t.props.moveMapTo;navigator.geolocation.getCurrentPosition(function(e){n({longitude:e.coords.longitude,latitude:e.coords.latitude}),t.setState({requestingUserLocation:!1})},function(){t.setState({requestingUserLocation:!1})},{enableHighAccuracy:!0,timeout:1e4})},t.onMapClick=function(n){var e=Object(Cn.a)(n.lngLat,2),r=e[0],a=e[1];(0,t.props.showNewDevForm)({longitude:r,latitude:a})},t}return Object(En.a)(e,n),Object(gn.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),this.requestUserLocation()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this,e=this.props,t=e.viewport,i=e.devs,o=e.mapViewportChange,c=this.state,u=c.mapLoading,s=c.requestingUserLocation;return a.a.createElement(r.Fragment,null,a.a.createElement(_n,{mapLoading:u,requestingUserLocation:s},a.a.createElement("div",{className:"pulse"},a.a.createElement("span",null),a.a.createElement("span",null))),a.a.createElement(g.c,Object.assign({},t,{onClick:this.onMapClick,onLoad:function(){return n.setState({mapLoading:!1})},onViewportChange:o,mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:"pk.eyJ1Ijoiam9hYW9ldSIsImEiOiJjanRuamptdXQ0ODBsNDNudXZ2d2lkb3c2In0.jb2p0mU_Y94oyJQ-pQK1Vg",minZoom:1.5,dragRotate:!1,touchRotate:!1}),i.map(function(n){return a.a.createElement(g.b,{longitude:n.cordinates.longitude,latitude:n.cordinates.latitude,key:n.id,offsetLeft:-15,offsetTop:-20},a.a.createElement(Tn,{alt:n.name,src:n.avatar_url}))})))}}]),e}(r.Component),Un=Object(c.b)(function(n){return{viewport:n.map.viewport,devs:n.devs.data}},function(n){return Object(d.b)(Object(v.a)({},E,D),n)})(In),Ln=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(fn,null),a.a.createElement(jn,null),a.a.createElement(Un,null))};function An(){var n=Object(W.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: ",";\n  height: 80vh;\n  line-height: 1.6;\n\n  h1 {\n    font-size: 40px;\n    opacity: 0.8;\n  }\n\n  h2 {\n    opacity: 0.7;\n  }\n\n  a {\n    color: ",";\n    opacity: 0.6;\n  }\n"]);return An=function(){return n},n}var Rn=G.b.div(An(),Q.white,Q.white),zn=function(){return a.a.createElement(Rn,null,a.a.createElement("h1",null,"Dev Location"),a.a.createElement("h2",null,"This page doesn't exist!"),a.a.createElement("a",{href:"/"},"Click here to go home."))},Fn=function(){return a.a.createElement(V.a,null,a.a.createElement(N.c,null,a.a.createElement(N.a,{exact:!0,path:"/",component:Ln}),a.a.createElement(N.a,{path:"*",component:zn})))};s.a.config(),l.a.configure({autoClose:3e3});var Hn=function(){return a.a.createElement(c.a,{store:q},a.a.createElement(r.Fragment,null,a.a.createElement(B,null),a.a.createElement(Fn,null)))};o.a.render(a.a.createElement(Hn,null),document.getElementById("root"))},84:function(n,e,t){n.exports=t(146)}},[[84,1,2]]]);
//# sourceMappingURL=main.278830a4.chunk.js.map